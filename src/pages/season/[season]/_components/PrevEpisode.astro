---
import EpisodeIdentifier from "@lib/common/episodes/EpisodeIdentifier.astro";
import type { Episode } from "@lib/common/episodes/types";
import ChevronLeftIcon from "@lib/common/icons/ChevronLeftIcon.astro";
import Link from "@lib/common/Link.astro";
import { Image } from "astro:assets";

interface Props {
  episode: Episode;
}

const { episode } = Astro.props;
---

<Link href={`season/${episode.season}/${episode.id}`}>
  <div
    style={{ background: episode.fromColor }}
    class="bg-gray-100 rounded-full overflow-hidden shadow-sm"
  >
    <div class="flex items-center gap-2">
      <div class="grow pl-4 flex items-center">
        <ChevronLeftIcon className="size-6" stroke={episode.accentColor} />

        <div
          class="pl-2 text-[var(--accent)] md:grow hidden md:block flex justify-center"
        >
          <p style={{ color: episode.accentColor }} class="font-bold">
            {episode.name}
          </p>
          <EpisodeIdentifier episode={episode} />
        </div>
      </div>
      <div>
        <Image
          width={110}
          src={episode.cover}
          alt={`Cover for episode ${episode.name}`}
        />
      </div>
    </div>
  </div>
</Link>
